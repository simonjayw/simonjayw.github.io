<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>复杂度分析 | 王思杰的前端笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="分享日常总结，工具框架的使用以及整理">
    <meta http-equiv="cache-control" content="no-cache">
    
    <link rel="preload" href="/assets/css/0.styles.cbd1665c.css" as="style"><link rel="preload" href="/assets/js/app.dbcf5740.js" as="script"><link rel="preload" href="/assets/js/2.f5496dfe.js" as="script"><link rel="preload" href="/assets/js/27.5780597b.js" as="script"><link rel="preload" href="/assets/js/3.3b605241.js" as="script"><link rel="prefetch" href="/assets/js/10.960b396a.js"><link rel="prefetch" href="/assets/js/11.2cabf069.js"><link rel="prefetch" href="/assets/js/12.876bba14.js"><link rel="prefetch" href="/assets/js/13.f8dc7362.js"><link rel="prefetch" href="/assets/js/14.44f22a69.js"><link rel="prefetch" href="/assets/js/15.f61c1365.js"><link rel="prefetch" href="/assets/js/16.8ac2ad34.js"><link rel="prefetch" href="/assets/js/17.affff3eb.js"><link rel="prefetch" href="/assets/js/18.6601fdc9.js"><link rel="prefetch" href="/assets/js/19.0f2173e7.js"><link rel="prefetch" href="/assets/js/20.0650d69d.js"><link rel="prefetch" href="/assets/js/21.0469926f.js"><link rel="prefetch" href="/assets/js/22.574b21b4.js"><link rel="prefetch" href="/assets/js/23.b5e06ecf.js"><link rel="prefetch" href="/assets/js/24.f8965015.js"><link rel="prefetch" href="/assets/js/25.40bdd934.js"><link rel="prefetch" href="/assets/js/26.9e62da85.js"><link rel="prefetch" href="/assets/js/28.050c9156.js"><link rel="prefetch" href="/assets/js/29.c03e33f5.js"><link rel="prefetch" href="/assets/js/30.64528df9.js"><link rel="prefetch" href="/assets/js/31.b8dd7785.js"><link rel="prefetch" href="/assets/js/32.523c7c94.js"><link rel="prefetch" href="/assets/js/33.b39f1302.js"><link rel="prefetch" href="/assets/js/34.58754e46.js"><link rel="prefetch" href="/assets/js/35.d1de3f96.js"><link rel="prefetch" href="/assets/js/36.e5fd78e2.js"><link rel="prefetch" href="/assets/js/37.f74f4cf5.js"><link rel="prefetch" href="/assets/js/38.02dd12fc.js"><link rel="prefetch" href="/assets/js/39.53d54feb.js"><link rel="prefetch" href="/assets/js/4.1313b057.js"><link rel="prefetch" href="/assets/js/40.dccfcd6c.js"><link rel="prefetch" href="/assets/js/41.b98055be.js"><link rel="prefetch" href="/assets/js/42.08248049.js"><link rel="prefetch" href="/assets/js/43.0c5eebe7.js"><link rel="prefetch" href="/assets/js/44.5f48411c.js"><link rel="prefetch" href="/assets/js/45.3e05f4a4.js"><link rel="prefetch" href="/assets/js/46.e27164a6.js"><link rel="prefetch" href="/assets/js/47.8a5f902c.js"><link rel="prefetch" href="/assets/js/48.dd2be253.js"><link rel="prefetch" href="/assets/js/49.4bd1702b.js"><link rel="prefetch" href="/assets/js/5.fb05482b.js"><link rel="prefetch" href="/assets/js/50.94a9d19a.js"><link rel="prefetch" href="/assets/js/51.8479ec87.js"><link rel="prefetch" href="/assets/js/52.6e7268c4.js"><link rel="prefetch" href="/assets/js/53.fe34895b.js"><link rel="prefetch" href="/assets/js/54.6e9682a7.js"><link rel="prefetch" href="/assets/js/55.2ce9def5.js"><link rel="prefetch" href="/assets/js/56.dc106712.js"><link rel="prefetch" href="/assets/js/57.88869bcd.js"><link rel="prefetch" href="/assets/js/58.4fbd7fa5.js"><link rel="prefetch" href="/assets/js/59.0c633a2f.js"><link rel="prefetch" href="/assets/js/6.de148be3.js"><link rel="prefetch" href="/assets/js/60.9a460a55.js"><link rel="prefetch" href="/assets/js/61.5b596a64.js"><link rel="prefetch" href="/assets/js/62.14fe936f.js"><link rel="prefetch" href="/assets/js/63.dd4ba6ce.js"><link rel="prefetch" href="/assets/js/64.b096829f.js"><link rel="prefetch" href="/assets/js/65.c0749146.js"><link rel="prefetch" href="/assets/js/66.3e7df705.js"><link rel="prefetch" href="/assets/js/67.114a4423.js"><link rel="prefetch" href="/assets/js/68.8124a3db.js"><link rel="prefetch" href="/assets/js/69.64fe58c5.js"><link rel="prefetch" href="/assets/js/7.3eb6773c.js"><link rel="prefetch" href="/assets/js/70.c9a60573.js"><link rel="prefetch" href="/assets/js/71.651af046.js"><link rel="prefetch" href="/assets/js/72.97f483b2.js"><link rel="prefetch" href="/assets/js/73.4a00c325.js"><link rel="prefetch" href="/assets/js/74.e9629578.js"><link rel="prefetch" href="/assets/js/75.990b55f1.js"><link rel="prefetch" href="/assets/js/76.63b28a52.js"><link rel="prefetch" href="/assets/js/77.29780222.js"><link rel="prefetch" href="/assets/js/78.7d2f9061.js"><link rel="prefetch" href="/assets/js/79.d23cf8fc.js"><link rel="prefetch" href="/assets/js/8.69201de4.js"><link rel="prefetch" href="/assets/js/80.a49e3f68.js"><link rel="prefetch" href="/assets/js/81.36e3f61b.js"><link rel="prefetch" href="/assets/js/82.e9954b41.js"><link rel="prefetch" href="/assets/js/83.3df8b04c.js"><link rel="prefetch" href="/assets/js/84.87a52272.js"><link rel="prefetch" href="/assets/js/85.861a1635.js"><link rel="prefetch" href="/assets/js/86.10b2bc51.js"><link rel="prefetch" href="/assets/js/87.d93d79cb.js"><link rel="prefetch" href="/assets/js/88.e169a415.js"><link rel="prefetch" href="/assets/js/89.0fb3d77e.js"><link rel="prefetch" href="/assets/js/9.ef5d211f.js"><link rel="prefetch" href="/assets/js/90.1f4d76d7.js"><link rel="prefetch" href="/assets/js/91.e486da35.js"><link rel="prefetch" href="/assets/js/92.d61be3f8.js"><link rel="prefetch" href="/assets/js/93.38f1a280.js"><link rel="prefetch" href="/assets/js/94.7d93c676.js"><link rel="prefetch" href="/assets/js/95.9c53bf0f.js"><link rel="prefetch" href="/assets/js/96.ae9b481f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cbd1665c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">王思杰的前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  日常笔记
</a></div><div class="nav-item"><a href="/advanced/" class="nav-link">
  前端进阶
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/services/" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/computerbasic/" class="nav-link router-link-active">
  计算机基础
</a></div><div class="nav-item"><a href="/tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  杂乱/分享
</a></div><div class="nav-item"><a href="https://github.com/simonwong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  日常笔记
</a></div><div class="nav-item"><a href="/advanced/" class="nav-link">
  前端进阶
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/services/" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="/computerbasic/" class="nav-link router-link-active">
  计算机基础
</a></div><div class="nav-item"><a href="/tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  杂乱/分享
</a></div><div class="nav-item"><a href="https://github.com/simonwong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/computerbasic/" aria-current="page" class="sidebar-link">计算机基础知识</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据结构与算法分析</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computerbasic/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90/" aria-current="page" class="sidebar-link">数据结构与算法</a></li><li><a href="/computerbasic/数据结构与算法分析/复杂度分析.html" class="active sidebar-link">复杂度分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerbasic/数据结构与算法分析/复杂度分析.html#基本概念" class="sidebar-link">基本概念</a></li><li class="sidebar-sub-header"><a href="/computerbasic/数据结构与算法分析/复杂度分析.html#时间复杂度分析" class="sidebar-link">时间复杂度分析</a></li><li class="sidebar-sub-header"><a href="/computerbasic/数据结构与算法分析/复杂度分析.html#常见的时间复杂度分析" class="sidebar-link">常见的时间复杂度分析</a></li><li class="sidebar-sub-header"><a href="/computerbasic/数据结构与算法分析/复杂度分析.html#空间复杂度" class="sidebar-link">空间复杂度</a></li><li class="sidebar-sub-header"><a href="/computerbasic/数据结构与算法分析/复杂度分析.html#复杂度分析-2" class="sidebar-link">复杂度分析</a></li></ul></li><li><a href="/computerbasic/数据结构与算法分析/数据结构.html" class="sidebar-link">数据结构</a></li><li><a href="/computerbasic/数据结构与算法分析/排序算法.html" class="sidebar-link">排序算法</a></li></ul></section></li><li><a href="/computerbasic/进制.html" class="sidebar-link">进制转换</a></li><li><a href="/computerbasic/http.html" class="sidebar-link">HTTP</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="复杂度分析"><a href="#复杂度分析" class="header-anchor">#</a> 复杂度分析</h1> <blockquote><p>复杂度也叫渐进复杂度，包括时间复杂度和空间复杂度，用来分析算法执行效率与数据规模之间的增长关系。</p></blockquote> <h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <p>前提：每行代码都执行类似的操作：读数据 - 运算 - 写数据，所以粗略估计每行代码执行时间一样，为 unit_time</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     sum <span class="token operator">=</span> sum <span class="token operator">+</span> i<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>(2n+2) * unit_time</code></p> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token keyword">int</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       sum <span class="token operator">=</span> sum <span class="token operator">+</span>  i <span class="token operator">*</span> j<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>(3 + 2n + 2n²) * unit_time</code></p> <blockquote><p>所有代码的执行时间 T(n) 与每行代码的执行次数 n 成正比</p></blockquote> <p><code>T(n) = O(f(n))</code></p> <p><code>T(n)</code> 表示 代码执行的时间</p> <p><code>n</code> 表示 数据规模的大小</p> <p><code>f(n)</code> 表示 每行代码执行次数的总合</p> <p>所以 公式中 <code>O</code> 表示  <code>T(n)</code> 与 <code>f(n)</code> 成正比</p> <p>上面的可以表示为  <code>T(n) = O(2n + 2)</code> <code>T(n) = O(3 + 2n + 2n²)</code></p> <p>这就是大 O 时间复杂度表示法。并不是表示代码执行时间，而是<strong>代码执行时间随数据规模增长的变化趋势</strong></p> <p>公式中的 低阶、常量、系数并不左右增长趋势，所以可以忽略。所以可以记为 <code>T(n) = O(n)</code> <code>T(n) = O(n²)</code></p> <h2 id="时间复杂度分析"><a href="#时间复杂度分析" class="header-anchor">#</a> 时间复杂度分析</h2> <ul><li><p>只关注循环执行次数最多的一段代码</p></li> <li><p>加法法则：总复杂度等于量级最大的那段代码的复杂度</p> <p>即：<code>T(n) = O(10000 + n + n²)</code> 取最大量级，常量级忽略，结果为 <code>T(n) = O(n²)</code></p></li> <li><p>乘法法则：嵌套代码的复杂度等于嵌套内外复杂度的乘积</p> <p><code>T(n) = T1(n) * T2(n) = O(n*n) = O(n²)</code></p></li></ul> <h2 id="常见的时间复杂度分析"><a href="#常见的时间复杂度分析" class="header-anchor">#</a> 常见的时间复杂度分析</h2> <p><img src="http://file.wangsijie.top/blog/20200321110442.png" alt=""></p> <p>指数阶、阶乘阶可以分类为<strong>非多项式量级</strong>，n 越大，执行时间急剧增加，非常低效。</p> <h3 id="o-1"><a href="#o-1" class="header-anchor">#</a> O(1)</h3> <p>一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)</p> <h3 id="o-logn-、o-nlogn"><a href="#o-logn-、o-nlogn" class="header-anchor">#</a> O(㏒n)、O(n㏒n)</h3> <p>对数阶比较难分析</p> <div class="language-java extra-class"><pre class="language-java"><code>
 i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
   i <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>以 2 为底 n 的对数，不论是以 2 为底，还是以 10 为底，都算作 <code>O(㏒n)</code></p> <h3 id="o-m-n-、o-m-n"><a href="#o-m-n-、o-m-n" class="header-anchor">#</a> O(m+n)、O(m*n)</h3> <p>代码复杂度由两个数据规模决定</p> <h2 id="空间复杂度"><a href="#空间复杂度" class="header-anchor">#</a> 空间复杂度</h2> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token punctuation">;</span> i <span class="token operator">&lt;</span>n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    print out a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第 2 行 申请了 1 个空间存储变量</p> <p>第 3 行 申情了 n 个空间存储变量</p> <p>剩下的没有占用更多空间，所以空间复杂度为 <code>O(n)</code></p> <h2 id="复杂度分析-2"><a href="#复杂度分析-2" class="header-anchor">#</a> 复杂度分析</h2> <h3 id="最好情况时间复杂"><a href="#最好情况时间复杂" class="header-anchor">#</a> 最好情况时间复杂</h3> <p>在最理想的情况下，执行这段代码的时间复杂度</p> <h3 id="最坏情况时间复杂度"><a href="#最坏情况时间复杂度" class="header-anchor">#</a> 最坏情况时间复杂度</h3> <p>在最糟糕的情况下，执行这段代码的时间复杂度</p> <h3 id="平均情况时间复杂度"><a href="#平均情况时间复杂度" class="header-anchor">#</a> 平均情况时间复杂度</h3> <p>这个值就是概率论中的加权平均值，也叫作期望值，所以平均时间复杂度的全称应该叫加权平均时间复杂度或者期望时间复杂度</p> <h3 id="均摊时间复杂度"><a href="#均摊时间复杂度" class="header-anchor">#</a> 均摊时间复杂度</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9 个月前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computerbasic/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90/" class="prev router-link-active">
        数据结构与算法
      </a></span> <span class="next"><a href="/computerbasic/数据结构与算法分析/数据结构.html">
        数据结构
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.dbcf5740.js" defer></script><script src="/assets/js/2.f5496dfe.js" defer></script><script src="/assets/js/27.5780597b.js" defer></script><script src="/assets/js/3.3b605241.js" defer></script>
  </body>
</html>
