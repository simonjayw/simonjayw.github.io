(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{420:function(a,e,s){"use strict";s.r(e);var t=s(25),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[a._v("#")]),a._v(" npm")]),a._v(" "),s("h2",{attrs:{id:"常见命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见命令"}},[a._v("#")]),a._v(" 常见命令")]),a._v(" "),s("p",[s("code",[a._v("npm run env")]),a._v(" 列出所有环境变量")]),a._v(" "),s("h2",{attrs:{id:"知识点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#知识点"}},[a._v("#")]),a._v(" 知识点")]),a._v(" "),s("h3",{attrs:{id:"执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行顺序"}},[a._v("#")]),a._v(" 执行顺序")]),a._v(" "),s("ul",[s("li",[a._v("并行任务，使用 &")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run a "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run b\n")])])]),s("ul",[s("li",[a._v("串行任务，使用 &&")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run a && npm run b\n")])])]),s("h3",{attrs:{id:"脚本传入参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚本传入参数"}},[a._v("#")]),a._v(" 脚本传入参数")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"serve"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"vue-cli-service serve --mode=dev --mobile -config build/example.js"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("体现到 "),s("code",[a._v("process.env")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[ '/usr/local/Cellar/node/12.14.1/bin/node',\n  '/Users/mac/Vue-projects/hao-cli/node_modules/.bin/vue-cli-service',\n  'serve',\n  '--mode=dev',\n  '--mobile',\n  '-config',\n  'build/example.js']\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve --params  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 参数params将转化成process.env.npm_config_params = true")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve --params"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 参数params将转化成process.env.npm_config_params = 123")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve -params  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 等同于--params参数")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve -- --params  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将--params参数添加到process.env.argv数组中")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve params  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将params参数添加到process.env.argv数组中")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run serve -- params  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将params参数添加到process.env.argv数组中")]),a._v("\n")])])]),s("h3",{attrs:{id:"env-环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#env-环境变量"}},[a._v("#")]),a._v(" env 环境变量")]),a._v(" "),s("p",[a._v("如果"),s("code",[a._v("env")]),a._v("环境变量中存在以"),s("code",[a._v("npm_config_")]),a._v("为前缀的环境变量，则会被识别为"),s("code",[a._v("npm")]),a._v("的配置属性。npm 会从环境变量读到这个配置")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export npm_config_package_lock=false # 修改的是内存中的变量，只对当前终端有效\n")])])]),s("ul",[s("li",[a._v("查看某个环境变量："),s("code",[a._v("echo $NODE_ENV")])]),a._v(" "),s("li",[a._v("删除某个环境变量："),s("code",[a._v("unset NODE_ENV")])])]),a._v(" "),s("h3",{attrs:{id:"npmrc-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npmrc-文件"}},[a._v("#")]),a._v(" npmrc 文件")]),a._v(" "),s("p",[s("code",[a._v("npmrc")]),a._v(" 文件优先级由高到低包括：")]),a._v(" "),s("ul",[s("li",[a._v("工程内配置文件: "),s("code",[a._v("/path/to/my/project/.npmrc")])]),a._v(" "),s("li",[a._v("用户级配置文件: "),s("code",[a._v("~/.npmrc")])]),a._v(" "),s("li",[a._v("全局配置文件: "),s("code",[a._v("$PREFIX/etc/npmrc")]),a._v(" (即"),s("code",[a._v("npm config get globalconfig")]),a._v(" 输出的路径)")]),a._v(" "),s("li",[a._v("npm内置配置文件:"),s("code",[a._v("/path/to/npm/npmrc")])])]),a._v(" "),s("h2",{attrs:{id:"npm-包规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-包规范"}},[a._v("#")]),a._v(" npm 包规范")]),a._v(" "),s("h3",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[a._v("#")]),a._v(" 目录")]),a._v(" "),s("ul",[s("li",[a._v("bin：存放可执行二进制文件的目录")]),a._v(" "),s("li",[a._v("lib：存放js代码的目录")]),a._v(" "),s("li",[a._v("doc：存放文档的目录")]),a._v(" "),s("li",[a._v("test：存放单元测试用例代码的目录")])]),a._v(" "),s("h3",{attrs:{id:"命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[a._v("#")]),a._v(" 命令")]),a._v(" "),s("p",[s("code",[a._v("npm version patch")]),a._v(" 升级补丁 "),s("code",[a._v("0.0.1")]),a._v(" 变成 "),s("code",[a._v("0.0.2")])]),a._v(" "),s("p",[s("code",[a._v("npm version minor")]),a._v(" 升级补丁 "),s("code",[a._v("0.0.1")]),a._v(" 变成 "),s("code",[a._v("0.1.0")])]),a._v(" "),s("p",[s("code",[a._v("npm version major")]),a._v(" 升级补丁 "),s("code",[a._v("0.0.1")]),a._v(" 变成 "),s("code",[a._v("1.0.0")])]),a._v(" "),s("h3",{attrs:{id:"本地调试开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地调试开发"}},[a._v("#")]),a._v(" 本地调试开发")]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("npm link")]),a._v(" 调试")]),a._v(" "),s("ul",[s("li",[a._v("假如我的项目是 "),s("code",[a._v("koalaNpmStudy")]),a._v("，假如我的 npm 模块包名称是 "),s("code",[a._v("npm-ikoala")])]),a._v(" "),s("li",[a._v("进入到 模块包 "),s("code",[a._v("npm-ikoala")]),a._v(" 目录中，执行 "),s("code",[a._v("npm link")])]),a._v(" "),s("li",[a._v("在自己的项目 "),s("code",[a._v("koalaNpmStudy")]),a._v(" 中创建连接执行 "),s("code",[a._v("npm link npm-ikoala")])]),a._v(" "),s("li",[a._v("在自己项目的 "),s("code",[a._v("node_module")]),a._v(" 中会看到链接过来的模块包，然后就可以像使用其他的模块包一样使用它了。")]),a._v(" "),s("li",[a._v("调试结束后可以使用 "),s("code",[a._v("npm unlink")]),a._v(" 取消关联")])]),a._v(" "),s("p",[s("code",[a._v("npm link")]),a._v(" 主要做了两件事：")]),a._v(" "),s("ol",[s("li",[a._v("为目标 "),s("code",[a._v("npm")]),a._v(" 模块创建软链接，将其链接到全局 "),s("code",[a._v("node")]),a._v(" 模块安装路径 "),s("code",[a._v("/usr/local/lib/node_modules/")]),a._v("。")]),a._v(" "),s("li",[a._v("为目标 "),s("code",[a._v("npm")]),a._v(" 模块的可执行 "),s("code",[a._v("bin")]),a._v(" 文件创建软链接，将其链接到全局 "),s("code",[a._v("node")]),a._v(" 命令安装路径 "),s("code",[a._v("/usr/local/bin/")]),a._v("。")])]),a._v(" "),s("h2",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[a._v("#")]),a._v(" 常见问题")]),a._v(" "),s("h3",{attrs:{id:"npm-warn-lifecycle-scripts-prepend-node-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-warn-lifecycle-scripts-prepend-node-path"}},[a._v("#")]),a._v(" npm WARN lifecycle... "),s("code",[a._v("--scripts-prepend-node-path")])]),a._v(" "),s("p",[a._v("本地版本与 PATH 变量版本不同。推荐方案2")]),a._v(" "),s("p",[a._v("方案1：")]),a._v(" "),s("p",[a._v("项目创建 "),s("code",[a._v(".npmrc")]),a._v(" 文件 。内容为 "),s("code",[a._v("scripts-prepend-node-path=true")])]),a._v(" "),s("p",[a._v("方案2:")]),a._v(" "),s("p",[a._v("执行 "),s("code",[a._v("npm config set scripts-prepend-node-path auto")])])])}),[],!1,null,null,null);e.default=n.exports}}]);